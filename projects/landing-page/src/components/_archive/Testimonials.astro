---
const testimonials = [
  {
    quote: "Agentic SDLC transformed how I build projects. What used to take weeks now takes days. The AI roles handle everything from planning to deployment.",
    author: "Sarah Chen",
    role: "Senior Full-Stack Developer",
    avatar: "üë©‚Äçüíª",
    company: "Tech Startup"
  },
  {
    quote: "The knowledge base feature is a game-changer. It learns from our mistakes and helps the whole team avoid repeating them. Incredible productivity boost.",
    author: "Marcus Rodriguez",
    role: "Engineering Manager",
    avatar: "üë®‚Äçüíº",
    company: "Enterprise Corp"
  },
  {
    quote: "As a solo developer, having 12 AI roles feels like having an entire team. The automated workflows are smooth and the documentation is always up-to-date.",
    author: "Emily Watson",
    role: "Indie Developer",
    avatar: "üë©‚Äçüé®",
    company: "Freelance"
  },
  {
    quote: "We integrated Agentic SDLC into our existing workflow seamlessly. The IDE integration with Cursor is perfect. Our code quality improved significantly.",
    author: "David Kim",
    role: "Lead Developer",
    avatar: "üë®‚Äçüíª",
    company: "SaaS Company"
  }
];
---

<section id="testimonials" class="section-container relative">
  <!-- Background decoration -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="absolute w-96 h-96 bg-pink-500/10 rounded-full blur-3xl" style="top: 20%; left: 10%;"></div>
    <div class="absolute w-96 h-96 bg-purple-500/10 rounded-full blur-3xl" style="bottom: 20%; right: 10%;"></div>
  </div>
  
  <div class="relative z-10">
    <!-- Section header -->
    <div class="text-center mb-16 animate-slide-up">
      <h2 class="text-5xl sm:text-6xl font-black mb-6">
        <span class="gradient-text">What Developers Say</span>
      </h2>
      <p class="text-xl text-blue-200 max-w-2xl mx-auto">
        Trusted by developers and teams worldwide
      </p>
    </div>
    
    <!-- Testimonials carousel -->
    <div class="max-w-6xl mx-auto">
      <div class="testimonial-container relative">
        <!-- Testimonials -->
        <div class="testimonial-track flex gap-8 overflow-hidden">
          {testimonials.map((testimonial, index) => (
            <div 
              class="testimonial-card glass-card min-w-full md:min-w-[calc(50%-1rem)] lg:min-w-[calc(33.333%-1.5rem)] animate-slide-up"
              style={`animation-delay: ${index * 0.1}s;`}
            >
              <!-- Quote icon -->
              <div class="text-5xl text-blue-400 mb-4 opacity-50">"</div>
              
              <!-- Quote text -->
              <p class="text-blue-100 text-lg leading-relaxed mb-6">
                {testimonial.quote}
              </p>
              
              <!-- Author info -->
              <div class="flex items-center gap-4 pt-6 border-t border-white/10">
                <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-3xl">
                  {testimonial.avatar}
                </div>
                <div>
                  <div class="font-bold text-white">{testimonial.author}</div>
                  <div class="text-sm text-blue-300">{testimonial.role}</div>
                  <div class="text-xs text-blue-400">{testimonial.company}</div>
                </div>
              </div>
            </div>
          ))}
        </div>
        
        <!-- Navigation dots -->
        <div class="flex justify-center gap-3 mt-12">
          {testimonials.map((_, index) => (
            <button 
              class="testimonial-dot w-3 h-3 rounded-full bg-white/20 hover:bg-white/40 transition-all duration-300"
              data-index={index}
              aria-label={`Go to testimonial ${index + 1}`}
            >
            </button>
          ))}
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .testimonial-track {
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
  }
  
  .testimonial-card {
    scroll-snap-align: start;
    flex-shrink: 0;
  }
  
  .testimonial-dot.active {
    background: rgba(255, 255, 255, 0.8);
    width: 2rem;
  }
</style>

<script>
  // Simple carousel functionality
  let currentIndex = 0;
  const testimonials = document.querySelectorAll('.testimonial-card');
  const dots = document.querySelectorAll('.testimonial-dot');
  const track = document.querySelector('.testimonial-track');
  
  function updateCarousel(index) {
    currentIndex = index;
    
    // Update active dot
    dots.forEach((dot, i) => {
      dot.classList.toggle('active', i === index);
    });
    
    // Scroll to testimonial
    if (track && testimonials[index]) {
      const cardWidth = testimonials[0].offsetWidth;
      const gap = 32; // 2rem gap
      track.scrollLeft = (cardWidth + gap) * index;
    }
  }
  
  // Dot click handlers
  dots.forEach((dot, index) => {
    dot.addEventListener('click', () => updateCarousel(index));
  });
  
  // Auto-play (optional)
  let autoplayInterval;
  function startAutoplay() {
    autoplayInterval = setInterval(() => {
      const nextIndex = (currentIndex + 1) % testimonials.length;
      updateCarousel(nextIndex);
    }, 5000); // Change every 5 seconds
  }
  
  function stopAutoplay() {
    clearInterval(autoplayInterval);
  }
  
  // Initialize
  updateCarousel(0);
  startAutoplay();
  
  // Pause on hover
  const container = document.querySelector('.testimonial-container');
  if (container) {
    container.addEventListener('mouseenter', stopAutoplay);
    container.addEventListener('mouseleave', startAutoplay);
  }
</script>
